import{r as u,j as i}from"./ui-components-BR_YTsY_.js";import{C as _,R as ee,a as te,L as oe,B as se}from"./index-BUyJmYRG.js";import"./react-vendor-CWc6w16D.js";import"./recharts-v1XxYoYy.js";const $={"Loaf of Bread":15,"Liter of Milk":20,"Chocolate Bar":12,"Bag of Apples":35,"Packet of Chips":18,"T-Shirt":150,"Pair of Jeans":400,"Movie Ticket":100,"Fast Food Meal":80,Smartphone:5e3,Laptop:12e3,"Small Car":2e5};function le({onScoreChange:Q,onStreakChange:A,onProgressChange:D,theme:E}){const[d,x]=u.useState("beginner"),[F,g]=u.useState(""),[Y,b]=u.useState([]),[S,f]=u.useState(""),[j,T]=u.useState(null),[y,R]=u.useState(!1),[C,N]=u.useState(0),[w,O]=u.useState(0),[B,q]=u.useState(!1),[L,M]=u.useState(""),[G,v]=u.useState([]);u.useEffect(()=>{const e=localStorage.getItem("moneyGameDifficulty"),s=localStorage.getItem("moneyGameScore"),o=localStorage.getItem("moneyGameStreak");e&&x(e),s&&O(parseInt(s)),o&&N(parseInt(o)),P()},[]),u.useEffect(()=>{localStorage.setItem("moneyGameDifficulty",d),localStorage.setItem("moneyGameScore",w.toString()),localStorage.setItem("moneyGameStreak",C.toString())},[d,w,C]);const t=e=>`R${e.toLocaleString("en-ZA")}`,P=()=>{R(!1),T(null),q(!1),v([]);let e;switch(d){case"beginner":e=Math.random()>.5?"price-recognition":"change-calculation";break;case"easy":const s=Math.random();s<.4?e="price-recognition":s<.8?e="change-calculation":e="budget-calculation";break;case"medium":const o=Math.random();o<.25?e="price-recognition":o<.5?e="budget-calculation":o<.75?e="value-comparison":e="credit-card";break;case"hard":case"expert":const n=Math.random();n<.2?e="budget-calculation":n<.4?e="value-comparison":n<.7?e="credit-card":e="change-calculation";break;default:e="price-recognition"}switch(e){case"price-recognition":W();break;case"budget-calculation":H();break;case"credit-card":U();break;case"change-calculation":J();break;case"value-comparison":V();break}},W=()=>{const e=Object.keys($);let s,o;s=e[Math.floor(Math.random()*e.length)];do o=e[Math.floor(Math.random()*e.length)];while(s===o);const n=$[s],a=$[o];v([{name:s,price:n},{name:o,price:a}]);const r=Math.random()>.5?"more":"less";g(`Which item costs ${r}?`),b([s,o]),f(r==="more"?n>a?s:o:n<a?s:o),M(`${s} costs ${t(n)}.
${o} costs ${t(a)}.

So the item that costs ${r} is ${n>a?s:o}.`)},H=()=>{const e=Object.keys($),s=Math.floor(Math.random()*3)+2,o=[];let n=0;for(let c=0;c<s;c++){const m=e[Math.floor(Math.random()*e.length)],h=$[m];o.push({name:m,price:h}),n+=h}v(o);const a=d==="easy"?1.5:d==="medium"?1.2:1.1,r=Math.round(n*(Math.random()*(a-.8)+.8));if(Math.random()<.5){g("What is the total cost of these items?");const c=t(n),m=[];for(;m.length<3;){const p=Math.random()*.4+.8,k=Math.round(n*p),I=t(k);I!==c&&!m.includes(I)&&m.push(I)}const h=[c,...m].sort(()=>Math.random()-.5);b(h),f(c),M(`Total cost = ${o.map(p=>t(p.price)).join(" + ")} = ${t(n)}`)}else{g(`Your budget is ${t(r)}. Can you afford all these items?`);const c=n<=r?"Yes":"No";b(["Yes","No"]),f(c),M(`Total cost is ${t(n)}.
Your budget is ${t(r)}.

Since ${t(n)} is ${n<=r?"less than or equal to":"more than"} ${t(r)}, the answer is ${c}.`)}},U=()=>{const e=Math.floor(Math.random()*900)+100,s=(Math.floor(Math.random()*10)+10)/100,o=(Math.floor(Math.random()*4)+2)/100;if(Math.random()<.5||d==="medium"){const a=Math.max(50,Math.round(e*o));g(`You spent ${t(e)} on your credit card. The minimum payment is ${o*100}%. What is the minimum amount you must pay? (Minimum R50)`);const r=t(a),l=[];l.push(t(Math.round(e*o))),l.push(t(Math.round(e*(o+.01)))),l.push(t(Math.round(e/o)));const c=[r,...l.filter(m=>m!==r)].slice(0,4).sort(()=>Math.random()-.5);b(c),f(r),M(`Minimum payment = ${o*100}% of ${t(e)} = ${t(e*o)}.
Since the minimum payment must be at least R50, the minimum amount to pay is ${t(a)}.`)}else{const a=s/12,r=Math.round(e*a*100)/100;g(`You spent ${t(e)} and didn't pay it off. The annual interest rate is ${s*100}%. How much interest will be added after one month?`);const l=t(r),c=[];c.push(t(Math.round(e*s*100)/100)),c.push(t(Math.round(e/a*100)/100)),c.push(t(Math.round(e*(a+.01)*100)/100));const m=[l,...c.filter(h=>h!==l)].slice(0,4).sort(()=>Math.random()-.5);b(m),f(l),M(`Monthly interest rate = ${s*100}% / 12 = ${(a*100).toFixed(2)}%.
Interest charged = ${t(e)} Ã— ${(a*100).toFixed(2)}% = ${t(r)}.`)}},J=()=>{const e=Math.floor(Math.random()*90)+10,s=[10,20,50,100,200];let o;do o=s[Math.floor(Math.random()*s.length)];while(o<=e);const n=o-e;g(`You buy items costing ${t(e)}. You pay with a ${t(o)} note. How much change should you get?`);const a=t(n),r=[];r.push(t(e-o)),r.push(t(n+10)),r.push(t(n-5));const l=[a,...r.filter(c=>c!==a)].slice(0,4).sort(()=>Math.random()-.5);b(l),f(a),M(`Change = Payment - Cost
Change = ${t(o)} - ${t(e)} = ${t(n)}`)},V=()=>{const e=Math.floor(Math.random()*50)+10,s=Math.floor(Math.random()*5)+2,o=s+Math.floor(Math.random()*3)+1,n=e*(Math.random()*.1+.9),a=Math.round(n*s),r=e*(Math.random()*.1+1),l=Math.round(r*o),c=`${s} items for ${t(a)}`,m=`${o} items for ${t(l)}`;g("Which option is better value (cheaper per item)?"),b([c,m]);const h=a/s,p=l/o,k=h<p?c:m;f(k),M(`Option 1: ${t(a)} / ${s} items = ${t(h)} per item.
Option 2: ${t(l)} / ${o} items = ${t(p)} per item.

Since ${t(Math.min(h,p))} is less than ${t(Math.max(h,p))}, the better value is ${k}.`)},Z=e=>{if(y)return;if(T(e),R(!0),e===S){const o=w+(d==="beginner"?1:d==="easy"?2:d==="medium"?5:d==="hard"?10:15),n=C+1;O(o),N(n),Q(o-w),A(1),D(10),n%10===0&&z()}else N(0),A(-C);q(!0),setTimeout(()=>{P()},3e3)},z=()=>{switch(d){case"beginner":x("easy");break;case"easy":x("medium");break;case"medium":x("hard");break;case"hard":x("expert");break}},K=(()=>{switch(E){case"minecraft":return{backgroundColor:"#5c8d43",buttonColor:"#7e7e7e",textColor:"#ffffff",iconColor:"#f6b93b"};case"sonic":return{backgroundColor:"#0078c8",buttonColor:"#f7b400",textColor:"#ffffff",iconColor:"#f7b400"};case"marvel":return{backgroundColor:"#ed1d24",buttonColor:"#0282f9",textColor:"#ffffff",iconColor:"#0282f9"};default:return{backgroundColor:"#f0f0f0",buttonColor:"#4f46e5",textColor:"#333333",iconColor:"#4f46e5"}}})(),X=()=>G.length===0?null:i.jsxs("div",{className:"mb-4 p-3 bg-gray-100 rounded-md",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Items:"}),i.jsx("ul",{className:"list-disc list-inside",children:G.map((e,s)=>i.jsxs("li",{children:[e.name,": ",t(e.price)]},s))})]});return i.jsx(_,{className:"p-4",children:i.jsxs("div",{className:"text-center mb-4",children:[i.jsxs("p",{className:"text-sm mb-2",children:["Level: ",d]}),i.jsx("div",{className:"mb-4 flex justify-center",children:i.jsx("div",{className:"text-5xl",style:{color:K.iconColor},children:"ðŸ’°"})}),i.jsx("h2",{className:"text-xl font-bold mb-4",children:F}),X(),i.jsx("div",{className:"mb-6",children:i.jsx(ee,{className:"space-y-4",children:Y.map((e,s)=>i.jsxs("div",{className:`
                  flex items-center space-x-2 p-3 rounded-md border-2
                  ${y?e===S?"border-green-500 bg-green-50":e===j?"border-red-500 bg-red-50":"border-gray-300":"border-gray-300 hover:border-gray-400"}
                  cursor-pointer transition-all
                `,onClick:()=>Z(e),children:[i.jsx(te,{value:e,id:`option-${s}`,checked:j===e,disabled:y}),i.jsx(oe,{htmlFor:`option-${s}`,className:"text-lg font-medium flex-grow cursor-pointer",children:e}),y&&e===S&&i.jsx("span",{className:"text-green-500 text-xl",children:"âœ“"}),y&&e===j&&e!==S&&i.jsx("span",{className:"text-red-500 text-xl",children:"âœ—"})]},s))})}),B&&i.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-md text-left",children:[i.jsx("h3",{className:"font-bold mb-2",children:"Explanation:"}),i.jsx("p",{className:"whitespace-pre-line",children:L})]}),y&&i.jsx(se,{className:"mt-4",onClick:P,children:"Next Question"})]})})}export{le as MoneyGame};
